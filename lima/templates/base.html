{%load static%}

<!DOCTYPE html>
<html lang="es" data-theme="{{request.user.tecnica.tema}}">

<head>
  <meta charset="utf-8">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
  <title>{{footer.nombre_comercial}}</title>

  <link rel="icon"  href="{{footer.logo.url}}">
 <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">-->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
 <!--daisy ui-->
   <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.1/dist/tailwind.min.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/daisyui@1.14.0/dist/full.css" rel="stylesheet" type="text/css" />
  <!--daisy ui-->
  <link rel="stylesheet" href="{% static 'css/desktop.css' %}">
  <link rel="stylesheet" href="{% static 'css/mobile.css' %}">

</head>

<body style=" margin-bottom:50px;backdrop-filter: blur(5px);">
    <style>
table tr  { cursor: pointer; }
    #loading {
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  position: fixed;
  display: block;
  opacity: 0.5;
  background-color: #fff;
  z-index: 99;
  text-align: center;
}

#loading-spinner {
  position: absolute;
  top: 50%;;
  left: 50%;;
  z-index: 100;
}


 nav {
  background:rgba(255, 255, 255, 0.5) !important;
  color:#012D54;

  border-bottom:1px solid rgba(255, 255, 255, 0.5);
 -webkit-backdrop-filter:saturate(180%) blur(20px);
backdrop-filter: saturate(180%) blur(20px);
}
 .navbar-dropdown{
  background:rgba(255, 255, 255, 0.7) !important;
  color:#012D54;

  border-bottom:1px solid rgba(255, 255, 255, 0.5);
 -webkit-backdrop-filter:saturate(100%) blur(20px);
backdrop-filter: saturate(100%) blur(20px);
}
.table {
  display: block;
  max-width: -moz-fit-content;
  max-width: fit-content;
  margin: 0 auto !important;
  overflow-x: auto;
  white-space: nowrap;
}
.table{
  background: rgba(255,255,255,0.7) !important ;
 color:#012D54  !important;
 backdrop-filter: saturate(100%) blur(20px)  !important;
 box-shadow: 0px 15px 20px rgba(25, 25, 25, 0.5) !important;

}
.button {
   border: 1px solid rgba(255,255,255,0.7) !important;
   backdrop-filter: blur(30px) !important;
 color: rgba(255,255,255,0.8) !important;
 }
 .index{
     overflow-y: auto;
     overflow-x: auto;
     overflow:hidden;
 }

.button:hover {
    border: 1px solid rgba(25,25,25,25,0.1) !important;
    box-shadow: 0px 15px 20px rgba(25, 25, 25, 0.1) !important;
     /*transform: translateY(-1px) !important;*/
    transform: scale(0.9) !important;
 }
 .index,.login{
    position: absolute;
    top: 3rem;
    left: 20rem;
    margin:0rem;
    padding: 0rem;
    width: 70%;
    overflow-y: auto;
    height: 55rem;

 }

 .login::-webkit-scrollbar,.index::-webkit-scrollbar {
  display: none;
}
 .main-div > div:first-child {
   display: flex
}
</style>
<div id="loading">
          <div class="d-flex justify-content-center" id="loading-spinner">
          <div class="spinner-border" role="status" style="width: 10rem; height: 10rem;">
              <progress class="progress is-small is-primary" max="100">15%</progress>
          </div>
        </div>
        </div>
	<script>
// Quick and simple export target #table_id into a csv
function download_table_as_csv(table_id, separator = ';') {
    // Select rows from table_id
    var rows = document.querySelectorAll('table.' + table_id + ' tr');
    // Construct csv
    var csv = [];
    for (var i = 0; i < rows.length; i++) {
        var row = [], cols = rows[i].querySelectorAll('td, th');
        for (var j = 0; j < cols.length; j++) {
            // Clean innertext to remove multiple spaces and jumpline (break csv)
            var data = cols[j].innerText.replace(/(\r\n|\n|\r)/gm, '').replace(/(\s\s)/gm, ' ')
            // Escape double-quote with double-double-quote (see https://stackoverflow.com/questions/17808511/properly-escape-a-double-quote-in-csv)
            data = data.replace(/"/g, '""');
            // Push escaped string
            row.push('"' + data + '"');
        }
        csv.push(row.join(separator));
    }
    var csv_string = csv.join('\n');
    // Download it
    var filename = 'export_' + table_id + '_' + new Date().toLocaleDateString() + '.csv';
    var link = document.createElement('a');
    link.style.display = 'none';
    link.setAttribute('target', '_blank');
    link.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv_string));
    link.setAttribute('download', filename);
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

// tables to excel

function exportTableToExcel(tableID, filename = ''){
    var downloadLink;
    var dataType = 'application/vnd.ms-excel';
    var tableSelect = document.getElementById(tableID);
    var tableHTML = tableSelect.outerHTML.replace(/ /g, '%20');

    // Specify file name
    filename = filename?filename+'.xls':'excel_data.xls';

    // Create download link element
    downloadLink = document.createElement("a");

    document.body.appendChild(downloadLink);

    if(navigator.msSaveOrOpenBlob){
        var blob = new Blob(['\ufeff', tableHTML], {
            type: dataType
        });
        navigator.msSaveOrOpenBlob( blob, filename);
    }else{
        // Create a link to the file
        downloadLink.href = 'data:' + dataType + ', ' + tableHTML;

        // Setting the file name
        downloadLink.download = filename;

        //triggering the function
        downloadLink.click();
    }
}



function onLoad(loading, loaded) {
    if(document.readyState === 'complete'){
        return loaded();
    }
    loading();
    if (window.addEventListener) {
        window.addEventListener('load', loaded, false);
    }
    else if (window.attachEvent) {
        window.attachEvent('onload', loaded);
    }
};

 function clearcontent(elementID) {
    var gfg_down = document.getElementById(elementID);
    gfg_down.parentNode.removeChild(gfg_down);
        };

onLoad(function(){

   //clearcontent('loading')
   console.log('I am waiting for the page to be loaded');
},
function(){
    clearcontent('loading')
    console.log('The page is loaded');
});

</script>
<div class="main-div">
    {%block content%}

  {%endblock%}
</div>
 {% include 'footer.html'%}

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 {% include 'message.html'%}
  {% include 'confirm.html'%}
{% include 'animation_tables.html'%}
  <script src="https://use.fontawesome.com/339a78d04c.js"></script>
  <script src="sweetalert2.all.min.js"></script>
  <!-- Optional: include a polyfill for ES6 Promises for IE11 -->
  <script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.14.0/js/all.js"></script>
  <script src="{% static 'js/main.js' %}"></script>
{% include 'cookies.html'%}
</body>

</html>
