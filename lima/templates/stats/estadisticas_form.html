{% load crispy_forms_tags %} {%load static%}
<script
  src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
  crossorigin="anonymous"
></script>

<!-- XDSoft DateTimePicker -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css"
  integrity="sha256-DOS9W6NR+NFe1fUhEE0PGKY/fubbUCnOfTje2JMDw3Y="
  crossorigin="anonymous"
/>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js"
  integrity="sha256-FEqEelWI3WouFOo2VWP/uJfs1y8KJ++FLh2Lbqc8SJk="
  crossorigin="anonymous"
></script>

<div>
  <br /><br />
  <form class="form-inline my-2 my-lg-0" method="get">
    {% csrf_token %} {{ form|crispy }}

    <div class="buttons">
      <button class="btn" type="submit">Buscar</button>
      <br /><br />
      <button class="btn" type="reset">Limpiar</button>
    </div>
  </form>
</div>

<script>
  $(function () {
    $("#id_fecha_inico").datetimepicker({
      timepicker: false,
      format: "Y-m-d",
      onShow: function (ct) {
        this.setOptions({
          maxDate: jQuery("#id_fecha_fin").val()
            ? jQuery("#id_fecha_fin").val()
            : false,
        });
      },
    });
    $("#id_fecha_fin").datetimepicker({
      timepicker: false,
      format: "Y-m-d",
      onShow: function (ct) {
        this.setOptions({
          minDate: jQuery("#id_fecha_inico").val()
            ? jQuery("#id_fecha_inico").val()
            : false,
        });
      },
    });
  });
</script>
